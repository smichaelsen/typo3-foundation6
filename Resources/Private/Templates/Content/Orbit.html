<html data-namespace-typo3-fluid="true" xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers" xmlns:flux="http://typo3.org/ns/FluidTYPO3/Flux/ViewHelpers" xmlns:v="http://typo3.org/ns/FluidTYPO3/Vhs/ViewHelpers">

<f:layout name="Content"/>

<f:section name="Configuration">
	<flux:form id="orbit" options="{group:'Foundation', icon:'{f:uri.resource(extensionName:\'foundation6\',path:\'Icons/Components/orbit.png\')}'}">
		<flux:field.inline.fal name="slides" allowedExtensions="gif,jpg,jpeg,bmp,png,pdf,svg,ai,mp3,wav,mp4,webm,youtube,vimeo" maxItems="99"/>
	</flux:form>
</f:section>

<f:section name="Preview">
	<f:translate key="flux.{form.id}"/>
	<br>
	{record.subheader}
</f:section>

<f:section name="Main">
	<f:format.raw>
		<v:resource.record.fal table="tt_content" field="slides" as="slides">
			<div class="orbit" role="region" data-orbit>
				<ul class="orbit-container">
					<f:if condition="{slides -> f:count()} > 1">
						<button class="orbit-previous"><span class="show-for-sr">Previous Slide</span>&#9664;&#xFE0E;</button>
						<button class="orbit-next"><span class="show-for-sr">Next Slide</span>&#9654;&#xFE0E;</button>
					</f:if>
					<f:for each="{slides}" as="slide">
						<li class="orbit-slide">
							<f:image class="orbit-image" src="{slide.id}"/>
						</li>
					</f:for>
				</ul>
				<f:if condition="{slides -> f:count()} > 1">
					<nav class="orbit-bullets">
						<f:for each="{slides}" as="slide" iteration="i">
							<button data-slide="{i.index}"><span class="show-for-sr">Second slide details.</span></button>
						</f:for>
					</nav>
				</f:if>
			</div>
		</v:resource.record.fal>
	</f:format.raw>
</f:section>

</html>
